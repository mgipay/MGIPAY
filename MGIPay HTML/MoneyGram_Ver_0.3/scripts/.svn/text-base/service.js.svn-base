/* this file contains the implemenation of jquery/javascript ajax service calls */

function callService(methodName, requestType, sessionId, getMethodQueryParams, postMethodJsonObject, successHandler, errorHandler)
{	
	var postMethodJsonString = JSON.stringify(postMethodJsonObject);
	var serviceUrl = baseUrl + methodName;
	
	/*if(requestType == undefined || requestType == "GET")
	{
		serviceUrl += getMethodQueryParams;
		requestType = "GET";
	}*/
	$("#preview").show();
	$.ajax(
	{
		url : serviceUrl,
		data : postMethodJsonString,
		type : requestType,
		contentType:"application/json",
		dataType:"json",
		//beforeSend : function (xhr)
		//{
			//xhr.setRequestHeader("Access-Control-Allow-Origin", "*");
			 /*If the session id is available the write it to the header*/ 
			/*if(sessionId != undefined && sessionId != '')
			{
				xhr.setRequestHeader("Authorization", sessionId);
			}*/
		//},
		success : function (data, successCode, jqXhr)
		{
			//console.log('Service call successful.');
			successHandler(data);
		},
		error : function(jqXHR, errorType, exceptionObject)
		{
			alert("error");
			//console.log('Service call failed.');
			errorHandler(jqXHR, errorType, exceptionObject);
		}
	});
	
	/*if (window.XMLHttpRequest)
        {// code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp=new XMLHttpRequest();
        }
        else
        {// code for IE6, IE5
            xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange=function()
        {
            
            if (xmlhttp.readyState==4 && xmlhttp.status==200)
            {
                alert(xmlhttp.responseText);
            }
            else if (xmlhttp.readyState==4 && xmlhttp.status!=200)
            {
                //alert(xmlhttp.status);
                alert(xmlhttp.status);
            }
        }
        xmlhttp.open("POST",serviceUrl,true);
        xmlhttp.setRequestHeader("Content-Type","application/json;charset=UTF-8");
        xmlhttp.send(postMethodJsonString);*/
	
	
	
}
